<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- FavIcon -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./icons/favicons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./icons/favicons/favicon-32x32.png"
    />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;900&display=swap"
      rel="stylesheet"
    />
    <!-- Bootstrap-->
    <link rel="stylesheet" href="./css/bootstrap.css" />
    <script defer src="./js/bootstrap.bundle.js"></script>
    <link rel="stylesheet" href="./icons/bootstrap/bootstrap-icons.css" />

    <!-- Css file -->
    <link rel="stylesheet" href="./css/style.css" />
    <title>Confirming Code</title>
  </head>
  <body>
    <header>
      <!-- Logo -->
      <a href="index.html" class="logo">
        <img src="./images/logo1.png" alt="main_logo" class="one" />
        <div>
          <p class="two">Tamkeen Soft</p>
          <p class="three">تمكين سوفت</p>
        </div>
      </a>
    </header>
    <!-- Confirming-Code Section -->
    <section
      class="confirm-section d-flex flex-wrap-reverse justify-content-center text-center mt-5 mb-5"
    >
      <div class="confirm-form-container" style="width: 400px">
        <h2 class="fw-bold mt-5 mb-5">تأكيد الكود</h2>
        <!-- input fields -->
        <form class="w-100 m-auto">
          <div
            class="input-fields d-flex justify-content-center gap-2 mb-5"
            dir="ltr"
          >
            <input
              type="number"
              required
              maxlength="1"
              id="codeBox1"
              onkeyup="onKeyUpEvent(1, event)"
              onfocus="onFocusEvent(1)"
              class="form-control rounded-0 fs-3 fw-bold text-center"
              id=""
            />
            <input
              type="number"
              required
              maxlength="1"
              id="codeBox2"
              onkeyup="onKeyUpEvent(2, event)"
              onfocus="onFocusEvent(2)"
              class="form-control rounded-0 fs-3 fw-bold text-center"
              id=""
            />
            <input
              type="number"
              required
              maxlength="1"
              id="codeBox3"
              onkeyup="onKeyUpEvent(3, event)"
              onfocus="onFocusEvent(3)"
              class="form-control rounded-0 fs-3 fw-bold text-center"
              id=""
            />
            <input
              type="number"
              required
              maxlength="1"
              id="codeBox4"
              onkeyup="onKeyUpEvent(4, event)"
              onfocus="onFocusEvent(4)"
              class="form-control rounded-0 fs-3 fw-bold text-center"
              id=""
            />
          </div>
          <button
            type="submit"
            class="btn btn-primary rounded-0 ps-5 pe-5 pt-3 pb-3 fw-bold"
            style="width: 40%"
          >
            دخول
          </button>
        </form>
      </div>
      <div
        class="confirm-img d-flex justify-content-center"
        style="width: 400px"
      >
        <img src="./icons/password.png" class="w-75" alt="" />
      </div>
    </section>
    <script>
      function getCodeBoxElement(index) {
        return document.getElementById("codeBox" + index);
      }
      function onKeyUpEvent(index, event) {
        const eventCode = event.which || event.keyCode;
        if (getCodeBoxElement(index).value.length === 1) {
          if (index !== 4) {
            getCodeBoxElement(index + 1).focus();
          } else {
            getCodeBoxElement(index).blur();
            // Submit code
            console.log("submit code ");
          }
        }
        if (eventCode === 8 && index !== 1) {
          getCodeBoxElement(index - 1).focus();
        }
      }
      function onFocusEvent(index) {
        for (item = 1; item < index; item++) {
          const currentElement = getCodeBoxElement(item);
          if (!currentElement.value) {
            currentElement.focus();
            break;
          }
        }
      }
    </script>
  </body>
</html>
